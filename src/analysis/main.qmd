---
title: "Analysis"
date: "`r Sys.Date()`"
---

```{r}
#| label: setup

# load packages
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(modelsummary))
library(dotenv)

# load functions
source("./src/lib/io.R")

# load data
df <- read.csv("./data/data.csv")
```

```{r}
#| label: analysis
#| tbl-cap: Regression table

models <- list(
    lm(y ~ x1 + x2, data = df),
    glm(y ~ x1 + x2, data = df, family = "gaussian")
)
```

```{r}
#| label: table
#| tbl-cap: Regression table

m <- modelsummary(models, output = "tinytable")
m # show the table in the quarto report
save_table(m, "table") # save the table to ./assets/tables/table.tex; see ./src/lib/io.R for documentation
```

```{r}
#| label: plot
#| fig-cap: Coefficient plot

modelplot(models)
save_figure("figure") # save the figure to ./assets/figures/figure.pdf; see ./src/lib/io.R for documentation
```